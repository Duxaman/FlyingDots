<!doctype html>
<html>

<head>
    <meta charset="utf8">
    <link rel="stylesheet" href="style.css">
    <title>Flying Dots - Game</title>
</head>

<body onload="InitGame()">
    <div id="workplace">
        <!-- Bodies format example
        <div class="Body Ship Player" style="top: 50px; left:100px; width: 30px; height: 30px;">
            <p>Test Name</p>
        </div>
        <div class="Body Ship Enemy" style="top: 80px; left:300px; width: 50px; height: 50px;">
            <p>Name</p>
        </div>
        <div class="Body Star" style="top: 130px; left:100px; width: 100px; height: 100px;"></div>
        <div class="Body Asteroid" style="top: 400px; left:100px; width: 150px; height: 150px;"></div>
        <div class="Body LiteWeaponShell" style="top: 450px; left:100px; width: 2px; height: 2px;"></div>
        <div class="Body FireWeaponShell" style="top: 470px; left:100px; width: 4px; height: 4px;"></div>
        <div class="Body BibaWeaponShell" style="top: 490px; left:100px; width: 20px; height: 20px;"></div>
        <div class="Body HealBuffItem" style="top: 520px; left:100px; width: 30px; height: 30px;"></div>
        <div class="Body LiteWeaponUI" style="top: 580px; left:100px; width: 30px; height: 30px;"></div>
        <div class="Body FireWeaponUI" style="top: 640px; left:100px; width: 30px; height: 30px;"></div>
        <div class="Body BibaWeaponUI" style="top: 680px; left:100px; width: 30px; height: 30px;"></div>
        <div class="Body HealBuffItemUI" style="top: 700px; left:100px; width: 30px; height: 30px;"></div>
    -->
    </div>
    <div id="dashboard" class="box">
        <span>ðŸ’›</span>
        <div id="healthbox">
            <div id="healthplaceholder">
                <div id="healthbar"></div>
            </div>
            </span>
        </div>
        <span id="hp">0</span>
    </div>
    <div id="inventory" class="box">
        <table id="invtable">
            <tr>
                <td id="inv1">0</td>
                <td id="inv2">0</td>
                <td id="inv3">0</td>
                <td id="inv4">0</td>
            </tr>
        </table>
    </div>
    <div id="scorebox" class="box">
        0
    </div>
    <div id="time" class="box">
        00:00
    </div>
    <ul id="pausemenu" class="menu">
        <li>Resume</li>
        <li>Quit</li>
    </ul>
    <div class="settings">
        Difficulty:
        <select>
            <option value=" 0">Easy</option>
            <option selected value="1">Medium</option>
            <option value="2">Hard</option>
            <option value="3">Nuts</option>
        </select><br><br>
        Name:
        <input type="text" id="name">
        <div>
            <input type="button" value="Launch Game" onclick="StartGame()">
            <input type="button" value="Cancel" onclick="window.location = 'main.html'">
        </div>
    </div>
    <script>
        class ControlAdapter {
            constructor(Game, GameOverCallback) {
                this._GameObject = Game;
                this._GameOverCallback = GameOverCallback;
            }
            //TODO: Continue here
            HandleKeyboardMovement() {
                //analyze pressed key, call needed action
            }

            StartGame() {
                //activate update timers, hide pausemenu
            }

            StopGame() {
                //stop update timers, stop game
            }

            PauseGame() {
                //pause game, show pause menu
            }

            _OnGameOver() {
                //stop update timers
                //call callback
            }

            /*TODO: Score mgm should be in another class*/
        }

        function InitGame() {
            document.getElementsByClassName('settings')[0].style.display = 'block';
        }

        function StartGame() {
            let name = document.getElementById('name').value;
            let value = document.getElementsByTagName('select')[0].value;
            if (name !== '') {
                document.getElementsByClassName('settings')[0].style.display = 'none';
                var PlayAdapter = new ControlAdapter(...); //put game inside adapter
            }
            else alert(" You need to enter your name first!");
        }

        function FinishGame() {
            //redirect to leaderboards
        }

    </script>
    <script src="js/Constants.js"></script>
    <script src="js/GameObjects.js"></script>
    <script src="js/Inventory.js"></script>
    <script src="js/Map.js"></script>
    <script src="js/MapGenerator.js"></script>
    <script src="js/Spawner.js"></script>
    <script src="js/CollisionCalculator.js"></script>
    <script src="js/Game.js"></script>
</body>

</html>